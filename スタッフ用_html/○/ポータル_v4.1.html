<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å—ç™ºæ³¨èª²ãƒ„ãƒ¼ãƒ« v4.1</title>
<style>
    /* --- å…¨ä½“å…±é€šã‚¹ã‚¿ã‚¤ãƒ« --- */
    :root {
        --primary-color: #0056b3;
        --accent-color: #ff9900;
        --bg-color: #f4f7f9;
        --text-color: #333;
        --border-radius: 8px;
    }
    body { font-family: "Helvetica Neue", Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 0; }
    
    /* ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
    header { background-color: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; }
    .nav-tabs { display: flex; justify-content: center; list-style: none; padding: 0; margin: 0; overflow-x: auto; }
    .nav-item { cursor: pointer; padding: 15px 20px; font-weight: bold; color: #666; transition: 0.3s; white-space: nowrap; border-bottom: 4px solid transparent; }
    .nav-item:hover { background-color: #f9f9f9; color: var(--primary-color); }
    .nav-item.active { color: var(--primary-color); border-bottom-color: var(--primary-color); background-color: #fff; }
    .nav-icon { margin-right: 5px; }

    /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ */
    .main-wrapper { max-width: 1000px; margin: 20px auto; padding: 0 15px; }
    .app-section { display: none; animation: fadeIn 0.3s ease; }
    .app-section.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

    /* å…±é€šã‚³ãƒ³ãƒ†ãƒŠã‚¹ã‚¿ã‚¤ãƒ« */
    .tool-container { background: #fff; padding: 25px; border-radius: var(--border-radius); box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
    h2 { text-align: center; color: #444; margin-bottom: 25px; font-size: 1.4rem; border-bottom: 2px solid #eee; padding-bottom: 10px; }
    h3 { color: #555; border-left: 5px solid var(--primary-color); padding-left: 10px; margin-top: 30px; margin-bottom: 15px; font-size: 1.1rem; }

    /* å…±é€šå…¥åŠ›ãƒ‘ãƒ¼ãƒ„ */
    input[type="text"], input[type="number"], input[type="tel"], select, textarea {
        width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 6px; font-size: 16px; box-sizing: border-box; transition: 0.3s; outline: none;
    }
    input:focus, select:focus, textarea:focus { border-color: var(--primary-color); }
    
    /* ãƒœã‚¿ãƒ³å…±é€š */
    .btn-primary { background-color: var(--primary-color); color: white; border: none; padding: 12px; font-size: 16px; font-weight: bold; border-radius: 6px; cursor: pointer; transition: 0.2s; width: 100%; }
    .btn-primary:hover { opacity: 0.9; transform: translateY(-1px); }
    
    /* --- ã‚¢ãƒ—ãƒª1ï¼šå•†å“ãƒªã‚µãƒ¼ãƒç”¨ --- */
    .search-box { position: relative; margin-bottom: 20px; }
    .search-settings { font-size: 0.9em; margin-top: 15px; }
    .search-settings label { margin-right: 15px; cursor: pointer; display: inline-flex; align-items: center; gap: 4px; }
    .search-note { color: #d9534f; font-size: 0.85em; margin-top: 15px; text-align: center; background: #fff5f5; padding: 10px; border-radius: 4px; border: 1px dashed #d9534f; }
    .shortcut-tip { text-align: center; margin-top: 10px; font-size: 0.9em; color: #666; }
    .shortcut-key { background-color: #eee; padding: 2px 6px; border-radius: 4px; border: 1px solid #ccc; font-weight: bold; font-family: monospace; }

    /* --- ã‚¢ãƒ—ãƒª2ï¼šè¨ˆç®—æ©Ÿ --- */
    .mode-switch { display: flex; justify-content: center; background: #f0f0f0; padding: 4px; border-radius: 30px; margin: 0 auto 20px; width: fit-content; box-shadow: inset 0 2px 4px rgba(0,0,0,0.05); flex-wrap: wrap; gap:5px; }
    .mode-switch input { display: none; }
    .mode-label { padding: 8px 15px; cursor: pointer; border-radius: 25px; font-weight: bold; color: #666; transition: 0.3s; font-size: 0.9em; white-space: nowrap; }
    .mode-switch input:checked + .mode-label.m-mul { background: #007bff; color: white; box-shadow: 0 2px 5px rgba(0,123,255,0.3); }
    .mode-switch input:checked + .mode-label.m-div { background: #ff9800; color: white; box-shadow: 0 2px 5px rgba(255,152,0,0.3); }
    .mode-switch input:checked + .mode-label.m-rev { background: #9c27b0; color: white; box-shadow: 0 2px 5px rgba(156,39,176,0.3); }
    
    .calc-row { display: flex; gap: 20px; flex-wrap: wrap; margin-bottom: 15px; background: #f8fbff; padding: 15px; border-radius: 8px; transition: background 0.3s; }
    .calc-col { flex: 1; min-width: 200px; }
    .calc-label { font-weight: bold; display: block; margin-bottom: 5px; font-size: 0.9em; }
    .preset-group { display: flex; gap: 5px; flex-wrap: wrap; margin-top: 5px; }
    .btn-preset { background: #fff; border: 1px solid #cbd5e0; padding: 4px 10px; border-radius: 20px; font-size: 0.8em; cursor: pointer; transition:0.2s; }
    .btn-preset.active { background: var(--primary-color); color: white; border-color: var(--primary-color); }
    .calc-area { display: flex; gap: 20px; align-items: stretch; }
    .calc-box { flex: 1; display: flex; flex-direction: column; }
    .calc-textarea { height: 400px; font-family: monospace; resize: vertical; }
    #outputArea { background-color: #f0fff4; border-color: #c3e6cb; color: #155724; font-weight: bold; }
    #arrowIcon { display:flex; align-items:center; color:#ccc; font-size:24px; font-weight:bold; }

    /* å±¥æ­´ã‚¨ãƒªã‚¢ */
    .history-section { margin-top: 30px; border-top: 2px dashed #eee; padding-top: 15px; }
    .history-title { font-size: 1rem; color: #666; margin-bottom: 10px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; }
    .history-list { list-style: none; padding: 0; margin: 0; max-height: 250px; overflow-y: auto; border: 1px solid #eee; border-radius: 8px; }
    .history-item { display: flex; align-items: center; padding: 8px 15px; border-bottom: 1px solid #eee; font-size: 0.85em; gap: 10px; background: #fff; }
    .history-item:nth-child(even) { background: #fcfcfc; }
    .h-time { color: #999; font-size: 0.9em; min-width: 50px; }
    .h-mode { font-weight: bold; padding: 2px 6px; border-radius: 4px; font-size: 0.85em; min-width: 70px; text-align: center; }
    .h-mode.m-mul { background: #e3f2fd; color: #007bff; }
    .h-mode.m-div { background: #fff3e0; color: #e65100; }
    .h-mode.m-rev { background: #f3e5f5; color: #9c27b0; }
    .h-detail { flex: 1; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; color: #444; }
    .h-btn { background: #666; color: white; border: none; padding: 3px 8px; border-radius: 4px; cursor: pointer; font-size: 0.85em; }
    .h-btn:hover { background: #444; }

    /* ãƒ¢ãƒ¼ãƒ‰åˆ¥ã‚¹ã‚¿ã‚¤ãƒ«ä¸Šæ›¸ã */
    .mode-divide .tool-container { border-top-color: #ff9800 !important; }
    .mode-divide .calc-row { background: #fff3e0; }
    .mode-divide input[type="number"]:focus { border-color: #ff9800; }
    .mode-divide .btn-preset.active { background: #ff9800; border-color: #ff9800; }
    
    .mode-reverse .tool-container { border-top-color: #9c27b0 !important; }
    .mode-reverse .calc-row { background: #f3e5f5; }
    .mode-reverse input[type="number"]:focus { border-color: #9c27b0; }
    .mode-reverse .btn-primary { background-color: #9c27b0; }

    /* --- ã‚¢ãƒ—ãƒª3ï¼šå˜ä½å¤‰æ›ç”¨ --- */
    .unit-tabs { display: flex; background: #eee; border-radius: 6px 6px 0 0; overflow: hidden; margin-bottom: 20px; }
    .unit-tab { flex: 1; padding: 10px; text-align: center; cursor: pointer; color: #777; transition: 0.3s; font-weight: bold; }
    .unit-tab.active { background: #fff; color: #e67e22; border-bottom: 3px solid #e67e22; }
    .unit-content { display: none; }
    .unit-content.active { display: block; }
    .unit-group { position: relative; margin-bottom: 15px; }
    .unit-label { position: absolute; right: 15px; top: 14px; color: #888; font-weight: bold; pointer-events: none; }
    .unit-input { padding-right: 50px !important; text-align: right; }
    .quick-buttons { display: flex; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; }
    .q-btn { background: #f0f4f8; border: 1px solid #dce6f1; padding: 6px 12px; border-radius: 20px; font-size: 0.85em; cursor: pointer; color: #2c3e50; }
    .q-btn:hover { background: #e67e22; color: white; border-color: #e67e22; }
    .unit-equals { text-align: center; font-size: 20px; color: #e67e22; margin: -5px 0 10px; }
    .unit-memo { font-size: 0.85em; color: #666; background: #fdfdfd; padding: 10px; border-radius: 4px; margin-top: 15px; border: 1px solid #eee; }

    /* --- ã‚¢ãƒ—ãƒª4ï¼šé›»è©±ãƒ¡ãƒ¢ç”¨ --- */
    .badge-required { background: #ff4d4d; color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.7em; vertical-align: middle; margin-left: 5px; }
    .action-group { display: flex; gap: 10px; flex-wrap: wrap; }
    .action-group label { flex: 1; min-width: 140px; cursor: pointer; }
    .action-group input[type="radio"] { display: none; }
    .action-btn { display: block; text-align: center; padding: 10px; border: 1px solid #ddd; border-radius: 6px; background: #f9f9f9; transition: all 0.2s; font-size: 0.9em; }
    .action-group input[type="radio"]:checked + .action-btn { background-color: #e7f1ff; border-color: var(--primary-color); color: var(--primary-color); font-weight: bold; }
    .preview-box { background-color: #333; color: #fff; padding: 15px; border-radius: 6px; margin-top: 20px; }
    #resultMemo { width: 100%; height: 150px; background: transparent; border: none; color: #fff; font-family: monospace; font-size: 14px; resize: none; overflow: auto; outline: none; }
    #toast { visibility: hidden; min-width: 250px; margin-left: -125px; background-color: #333; color: #fff; text-align: center; border-radius: 2px; padding: 16px; position: fixed; z-index: 2000; left: 50%; bottom: 30px; }
    #toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }
    @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
    @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }

    /* --- ã‚¢ãƒ—ãƒª5ï¼šæ–‡å­—å¤‰æ›ç”¨ --- */
    .conv-settings { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-bottom: 20px; border-bottom: 1px dashed #ddd; padding-bottom: 15px; }
    .conv-group { display: flex; align-items: center; gap: 5px; }
    .category-label { font-size: 0.8em; font-weight: bold; color: #ff6b81; margin-right: 5px; }
    .toggle-btn { position: relative; cursor: pointer; user-select: none; margin: 0; }
    .toggle-btn input { display: none; }
    .toggle-content { display: flex; flex-direction: column; align-items: center; justify-content: center; width: 90px; height: 45px; background: #f9f9f9; border: 1px solid #eee; border-radius: 6px; transition: 0.2s; color: #aaa; padding: 2px; }
    .toggle-content strong { font-size: 0.75em; display: block; color: #777; }
    .toggle-content small { font-size: 0.6em; opacity: 0.8; }
    .toggle-btn input:checked + .toggle-content { background: #fff5f7; border-color: #ff6b81; color: #ff6b81; box-shadow: 0 2px 5px rgba(255, 107, 129, 0.2); }
    .toggle-btn input:checked + .toggle-content strong { color: #ff6b81; }

    /* --- ã‚¢ãƒ—ãƒª6ï¼šã‚µã‚¤ã‚ºæ—©è¦‹è¡¨ --- */
    .size-container { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }
    .table-wrapper { flex: 1; min-width: 280px; }
    .size-table { width: 100%; border-collapse: collapse; margin-top: 5px; font-size: 0.9em; }
    .size-table th, .size-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
    .size-table th { background-color: #f0f4f8; color: #555; font-weight: bold; text-align: center; }
    .size-table tr:nth-child(even) { background-color: #fafafa; }
    .size-table tr:hover { background-color: #eaf6ff; }
    .size-name { font-weight: bold; color: var(--primary-color); display: block; font-size: 1.05em; }
    .size-sub { font-size: 0.8em; color: #888; font-weight: normal; }
    .size-mm { font-family: monospace; font-size: 1.1em; font-weight: bold; color: #333; }
    .table-caption { font-weight: bold; margin-bottom: 5px; color: #0056b3; display: block; border-bottom: 2px solid #0056b3; padding-bottom: 3px; }

    /* --- ã‚¢ãƒ—ãƒª8ï¼šå±¥æ­´ãƒ»æƒ…å ± --- */
    .version-list { list-style: none; padding: 0; }
    .version-item { border-left: 4px solid #ccc; padding-left: 15px; margin-bottom: 20px; }
    .v-header { display: flex; align-items: center; margin-bottom: 5px; }
    .v-tag { background: #333; color: #fff; padding: 2px 8px; border-radius: 4px; font-size: 0.8em; font-weight: bold; margin-right: 10px; }
    .v-date { color: #888; font-size: 0.85em; }
    .v-desc { font-size: 0.95em; color: #555; line-height: 1.6; }
    .v-new { border-color: #ff9900; }
    .v-new .v-tag { background: #ff9900; }

    /* --- ã‚¬ã‚¤ãƒ‰ã‚¿ãƒ–ç”¨ã‚¹ã‚¿ã‚¤ãƒ« --- */
    .guide-box { border-left: 5px solid #ccc; padding-left: 15px; margin-bottom: 30px; }
    .guide-title { font-size: 1.2em; font-weight: bold; color: #333; display: flex; align-items: center; margin-bottom: 10px; }
    .guide-icon { font-size: 1.4em; margin-right: 10px; }
    .guide-desc { font-size: 0.95em; line-height: 1.6; color: #555; margin-bottom: 10px; }
    .guide-point { background-color: #fff9e6; border-radius: 8px; padding: 12px; font-size: 0.9em; color: #665c3d; border: 1px solid #f0e6c8; }
    .guide-badge { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 0.8em; color: #fff; margin-right: 8px; vertical-align: middle; }
</style>
</head>
<body>

<header>
    <ul class="nav-tabs">
        <li class="nav-item active" onclick="switchApp('app-search')"><span class="nav-icon">ğŸš€</span>ä¸€æ‹¬ãƒªã‚µãƒ¼ãƒ</li>
        <li class="nav-item" onclick="switchApp('app-calc')"><span class="nav-icon">ğŸ§®</span>è¨ˆç®—</li>
        <li class="nav-item" onclick="switchApp('app-unit')"><span class="nav-icon">ğŸ“</span>å˜ä½å¤‰æ›</li>
        <li class="nav-item" onclick="switchApp('app-size')"><span class="nav-icon">ğŸ“</span>ã‚µã‚¤ã‚ºæ—©è¦‹è¡¨</li>
        <li class="nav-item" onclick="switchApp('app-conv')"><span class="nav-icon">âœ¨</span>æ–‡å­—å¤‰æ›</li>
        <li class="nav-item" onclick="switchApp('app-memo')"><span class="nav-icon">ğŸ“</span>é›»è©±ãƒ¡ãƒ¢</li>
        <li class="nav-item" onclick="switchApp('app-history')"><span class="nav-icon">â„¹ï¸</span>æƒ…å ±ãƒ»å±¥æ­´</li>
        <li class="nav-item" onclick="switchApp('app-guide')"><span class="nav-icon">ğŸ“–</span>ã‚¬ã‚¤ãƒ‰</li>
    </ul>
</header>

<div class="main-wrapper">

    <section id="app-search" class="app-section active">
        <div class="tool-container" style="border-top: 5px solid #ff9900;">
            <h2>å•†å“ä¸€æ‹¬ãƒªã‚µãƒ¼ãƒ</h2>
            <div class="search-box">
                <input type="text" id="keyword" placeholder="å‹ç•ªãƒ»å•†å“åã‚’å…¥åŠ›ï¼ˆä¾‹ï¼šHYT-4Lï¼‰" onkeypress="handleEnterSearch(event)">
            </div>
            
            <button class="btn-primary" style="background-color: #ff9900;" onclick="multiSearch()">ã¾ã¨ã‚ã¦æ¤œç´¢é–‹å§‹ï¼</button>

            <div class="search-settings">
                <div style="margin-bottom:5px; font-weight:bold;">æ¤œç´¢å¯¾è±¡ã‚µã‚¤ãƒˆï¼š</div>
                <div id="checkboxArea"></div>
            </div>

            <div class="shortcut-tip">
                ğŸ’¡ é–‹ã„ãŸã‚¿ãƒ–ã¯ <span class="shortcut-key">Ctrl</span> + <span class="shortcut-key">W</span> ã§é–‰ã˜ã‚‰ã‚Œã¾ã™
            </div>
            <div class="search-note">
                âš ï¸ åˆå›ã®ã¿ã€Œãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸã€ã¨å‡ºã¾ã™ã€‚<br>
                ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ç«¯ã®ã‚¢ã‚¤ã‚³ãƒ³ã‹ã‚‰<strong>ã€Œå¸¸ã«è¨±å¯ã€</strong>ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚
            </div>
        </div>
    </section>

    <section id="app-calc" class="app-section">
        <div id="calcContainer" class="tool-container" style="border-top: 5px solid #0056b3;">
            <h2 id="calcTitle">å®šä¾¡Ã—æ›ã‘ç‡ è¨ˆç®—æ©Ÿ</h2>
            
            <div class="mode-switch">
                <input type="radio" name="calcMode" id="modeMultiply" value="multiply" checked onchange="changeCalcMode()">
                <label for="modeMultiply" class="mode-label m-mul">âœ– æ›ã‘ç‡ (å®šä¾¡â†’ä»•åˆ‡)</label>
                
                <input type="radio" name="calcMode" id="modeDivide" value="divide" onchange="changeCalcMode()">
                <label for="modeDivide" class="mode-label m-div">â— å‰²ã‚Šæˆ»ã— (åŸä¾¡â†’å£²å€¤)</label>

                <input type="radio" name="calcMode" id="modeReverse" value="reverse" onchange="changeCalcMode()">
                <label for="modeReverse" class="mode-label m-rev">â“ æ›ã‘ç‡é€†ç®— (ã“ã‚Œä½•%?)</label>
            </div>

            <div class="calc-row">
                <div class="calc-col" id="colRate">
                    <span class="calc-label" id="rateLabel">æ›ã‘ç‡ï¼ˆï¼…ï¼‰</span>
                    <input type="number" id="multiplier" value="70" step="0.1" oninput="handleInputMultiplier()">
                    <div class="preset-group">
                        <button class="btn-preset" onclick="setMultiplier(50)">50%</button>
                        <button class="btn-preset" onclick="setMultiplier(60)">60%</button>
                        <button class="btn-preset" onclick="setMultiplier(65)">65%</button>
                        <button class="btn-preset" onclick="setMultiplier(70)">70%</button>
                        <button class="btn-preset" onclick="setMultiplier(80)">80%</button>
                        <button class="btn-preset" onclick="setMultiplier(85)">85%</button>
                    </div>
                </div>
                <div class="calc-col" id="colRounding">
                    <span class="calc-label">ç«¯æ•°å‡¦ç†ãƒ»ç¨</span>
                    <select id="roundingMode" onchange="calculatePrice()">
                        <option value="floor" selected>åˆ‡ã‚Šæ¨ã¦ (æ¨å¥¨)</option>
                        <option value="round">å››æ¨äº”å…¥</option>
                        <option value="ceil">åˆ‡ã‚Šä¸Šã’</option>
                    </select>
                    <div style="margin-top:10px;">
                        <label style="cursor:pointer; display:flex; align-items:center; font-size:0.9em; font-weight:bold;">
                            <input type="checkbox" id="checkTax" onchange="calculatePrice()" style="width:auto; margin-right:8px;">
                            ç¨è¾¼ä¾¡æ ¼ã«ã™ã‚‹ (Ã—1.10)
                        </label>
                    </div>
                </div>
            </div>

            <div class="calc-area">
                <div class="calc-box">
                    <div class="box-header">
                        <label id="inputLabel">ã€å…¥åŠ›ã€‘å®šä¾¡ãƒªã‚¹ãƒˆ</label>
                        <span class="count-badge" id="countInput">0è¡Œ</span>
                    </div>
                    <textarea id="inputArea" class="calc-textarea" placeholder="Excelã‹ã‚‰è²¼ã‚Šä»˜ã‘&#13;10,000&#13;15800" oninput="calculatePrice()"></textarea>
                </div>
                <div id="arrowIcon">â¡</div>
                <div class="calc-box">
                    <div class="box-header">
                        <label id="outputLabel">ã€çµæœã€‘ä»•åˆ‡ä¾¡æ ¼</label>
                        <span class="count-badge" id="countOutput">0è¡Œ</span>
                    </div>
                    <textarea id="outputArea" class="calc-textarea" readonly></textarea>
                </div>
            </div>
            
            <button class="btn-primary" style="margin-top:15px; background-color:#28a745;" onclick="copyPriceResult()">ğŸ“‹ çµæœã‚’ã‚³ãƒ”ãƒ¼ã—ã¦å±¥æ­´ã«æ®‹ã™</button>

            <div class="history-section">
                <div class="history-title">
                    <span>ğŸ•’ è¨ˆç®—å±¥æ­´ (ç›´è¿‘30ä»¶)</span>
                    <button onclick="clearHistory()" style="font-size:0.8em; background:none; border:none; color:#d32f2f; cursor:pointer; text-decoration:underline;">å±¥æ­´ã‚’å…¨æ¶ˆå»</button>
                </div>
                <ul id="historyList" class="history-list"></ul>
            </div>
        </div>
    </section>

    <section id="app-unit" class="app-section">
        <div class="tool-container" style="max-width: 600px; margin: 0 auto; border-top: 5px solid #e67e22;">
            <h2>å»ºæå˜ä½ å¤‰æ›ãã‚“</h2>

            <div class="unit-tabs">
                <div class="unit-tab active" onclick="switchUnitTab('tab-length', this)">é•·ã• (å°ºãƒ»é–“)</div>
                <div class="unit-tab" onclick="switchUnitTab('tab-area', this)">åºƒã• (åªãƒ»å¹³ç±³)</div>
            </div>

            <div id="tab-length" class="unit-content active">
                <div class="quick-buttons">
                    <button class="q-btn" onclick="setLength(1)">1å°º (ã‚µã‚·ã‚¬ãƒ)</button>
                    <button class="q-btn" onclick="setLength(6)">1é–“ (1820)</button>
                    <button class="q-btn" onclick="setLength(3)">3å°º (910)</button>
                </div>
                <div class="unit-group">
                    <input type="number" id="inputShaku" class="unit-input" placeholder="ä¾‹: 6" oninput="calcFromShaku()">
                    <span class="unit-label">å°º</span>
                </div>
                <div class="unit-equals">â‡…</div>
                <div class="unit-group">
                    <input type="number" id="inputMm" class="unit-input" placeholder="ä¾‹: 1818" oninput="calcFromMm()">
                    <span class="unit-label">mm</span>
                </div>
                <div class="unit-memo">
                    <strong>ğŸ’¡ é•·ã•ãƒ¡ãƒ¢</strong><br>
                    1å°º â‰’ 303mm / 3å°º(åŠé–“) â‰’ 910mm / 6å°º(1é–“) â‰’ 1820mm
                </div>
            </div>

            <div id="tab-area" class="unit-content">
                <div class="quick-buttons">
                    <button class="q-btn" onclick="setArea(1)">1åª (ã‚µãƒ–ãƒ­ã‚¯2æš)</button>
                    <button class="q-btn" onclick="setArea(30)">30åª (æˆ¸å»º)</button>
                </div>
                <div class="unit-group">
                    <input type="number" id="inputTsubo" class="unit-input" placeholder="ä¾‹: 10" oninput="calcFromTsubo()">
                    <span class="unit-label">åª</span>
                </div>
                <div class="unit-equals">â‡…</div>
                <div class="unit-group">
                    <input type="number" id="inputM2" class="unit-input" placeholder="ä¾‹: 33.1" oninput="calcFromM2()">
                    <span class="unit-label">mÂ²</span>
                </div>
                <div class="unit-group">
                    <input type="number" id="inputTatami" class="unit-input" placeholder="ä¾‹: 20" oninput="calcFromTatami()">
                    <span class="unit-label">å¸–</span>
                </div>
                <div class="unit-memo">
                    <strong>ğŸ’¡ åºƒã•ãƒ¡ãƒ¢</strong><br>
                    1åª â‰’ 3.3mÂ² (ç•³2æšåˆ†) / 1åª ï¼ ã‚µãƒ–ãƒ­ã‚¯æ¿(3Ã—6) 2æšåˆ†
                </div>
            </div>

            <button class="btn-primary" style="margin-top:20px; background-color:#95a5a6;" onclick="clearUnitInputs()">ã‚¯ãƒªã‚¢</button>
        </div>
    </section>

    <section id="app-size" class="app-section">
        <div class="tool-container" style="max-width: 900px; margin: 0 auto; border-top: 5px solid #28a745;">
            <h2>ğŸ“ ã‚µã‚¤ã‚ºæ—©è¦‹è¡¨</h2>
            
            <div class="size-container">
                <div class="table-wrapper">
                    <span class="table-caption">æ¿ãƒ»å»ºæ (ã‚µãƒ–ãƒ­ã‚¯ç­‰)</span>
                    <table class="size-table">
                        <thead><tr><th>é€šç§°</th><th>å°ºç›¸å½“</th><th>ãƒŸãƒª(mm)</th></tr></thead>
                        <tbody>
                            <tr><td><span class="size-name">ã‚µãƒ–ãƒ­ã‚¯</span></td><td>3Ã—6</td><td><span class="size-mm">910 Ã— 1820</span></td></tr>
                            <tr><td><span class="size-name">ã‚·ãƒãƒ</span></td><td>4Ã—8</td><td><span class="size-mm">1212 Ã— 2424</span></td></tr>
                            <tr><td><span class="size-name">ã‚µãƒ³ãƒˆã‚¦</span></td><td>3Ã—10</td><td><span class="size-mm">910 Ã— 3030</span></td></tr>
                            <tr><td><span class="size-name">ãƒ¡ãƒ¼ã‚¿ãƒ¼</span></td><td>1mÃ—2m</td><td><span class="size-mm">1000 Ã— 2000</span></td></tr>
                            <tr><td><span class="size-name">ã‚·ãƒãƒ(å¤§)</span></td><td>1220å¹…</td><td><span class="size-mm">1220 Ã— 2440</span></td></tr>
                            <tr><td><span class="size-name">ã‚´ãƒƒãƒˆãƒ¼</span></td><td>5Ã—10</td><td><span class="size-mm">1515 Ã— 3030</span></td></tr>
                            <tr><td><span class="size-name">ã‚·ã‚¯ãƒ­ã‚¯</span></td><td>4Ã—6</td><td><span class="size-mm">1212 Ã— 1820</span></td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-wrapper" style="flex:0 0 220px;">
                    <span class="table-caption">ç•ªç·šã®ç·šå¾„ (#)</span>
                    <table class="size-table">
                        <thead><tr><th>#</th><th>mm</th></tr></thead>
                        <tbody>
                            <tr><td>#8</td><td>4.0~3.9</td></tr>
                            <tr><td>#10</td><td>3.2~3.1</td></tr>
                            <tr><td>#12</td><td>2.6~2.5</td></tr>
                            <tr><td>#14</td><td>2.0~1.9</td></tr>
                            <tr><td>#16</td><td>1.6~1.5</td></tr>
                            <tr><td>#18</td><td>1.2~1.1</td></tr>
                            <tr><td>#20</td><td>0.90~0.85</td></tr>
                            <tr><td>#22</td><td>0.70~0.66</td></tr>
                            <tr><td>#24</td><td>0.55~0.52</td></tr>
                            <tr><td>#26</td><td>0.45~0.42</td></tr>
                            <tr><td>#28</td><td>0.35~0.33</td></tr>
                            <tr><td>#30</td><td>0.30~0.29</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-wrapper">
                    <span class="table-caption">ãƒã‚¸ãƒ»ã‚¤ãƒ³ãƒãƒ»åˆ†</span>
                    <table class="size-table">
                        <thead><tr><th>ã‚¤ãƒ³ãƒ</th><th>èª­ã¿æ–¹</th><th>mm</th></tr></thead>
                        <tbody>
                            <tr><td>1/8</td><td>ä¸€åˆ† (ã„ã¡ã¶)</td><td><span class="size-mm">3.175</span></td></tr>
                            <tr><td>5/32</td><td>ã•ã‚“ã«ã®ã”</td><td><span class="size-mm">3.969</span></td></tr>
                            <tr><td>3/16</td><td>ä¸€åˆ†äº”å˜</td><td><span class="size-mm">4.763</span></td></tr>
                            <tr><td>1/4</td><td>äºŒåˆ† (ã«ã¶)</td><td><span class="size-mm">6.35</span></td></tr>
                            <tr><td>5/16</td><td>äºŒåˆ†äº”å˜</td><td><span class="size-mm">7.938</span></td></tr>
                            <tr><td>3/8</td><td>ä¸‰åˆ† (ã•ã‚“ã¶)</td><td><span class="size-mm">9.525</span></td></tr>
                            <tr><td>1/2</td><td>å››åˆ† (ã‚ˆã‚“ã¶)</td><td><span class="size-mm">12.7</span></td></tr>
                            <tr><td>5/8</td><td>äº”åˆ† (ã”ã¶)</td><td><span class="size-mm">15.875</span></td></tr>
                            <tr><td>3/4</td><td>å…­åˆ† (ã‚ãã¶)</td><td><span class="size-mm">19.05</span></td></tr>
                            <tr><td>7/8</td><td>ä¸ƒåˆ† (ãªãªã¶)</td><td><span class="size-mm">22.225</span></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <section id="app-conv" class="app-section">
        <div class="tool-container" style="border-top: 5px solid #ff6b81;">
            <h2>æ–‡å­—å¤‰æ›ãƒ„ãƒ¼ãƒ«</h2>

            <div class="conv-settings">
                <div class="conv-group">
                    <span class="category-label">è‹±æ•°</span>
                    <label class="toggle-btn">
                        <input type="checkbox" id="mode_num_half" checked onchange="toggleGroup('num', 'half')">
                        <div class="toggle-content"><strong>åŠè§’ã¸</strong><small>ï¼‘ï¼’ï¼“â†’123</small></div>
                    </label>
                    <label class="toggle-btn">
                        <input type="checkbox" id="mode_num_full" onchange="toggleGroup('num', 'full')">
                        <div class="toggle-content"><strong>å…¨è§’ã¸</strong><small>123â†’ï¼‘ï¼’ï¼“</small></div>
                    </label>
                </div>
                <div class="conv-group" style="border-left:1px dashed #ddd; padding-left:15px;">
                    <span class="category-label">ã‚«ãƒŠ</span>
                    <label class="toggle-btn">
                        <input type="checkbox" id="mode_kana_full" onchange="toggleGroup('kana', 'full')">
                        <div class="toggle-content"><strong>å…¨è§’ã¸</strong><small>ï½±ï½²ï½³â†’ã‚¢ã‚¤ã‚¦</small></div>
                    </label>
                    <label class="toggle-btn">
                        <input type="checkbox" id="mode_kana_half" onchange="toggleGroup('kana', 'half')">
                        <div class="toggle-content"><strong>åŠè§’ã¸</strong><small>ã‚¢ã‚¤ã‚¦â†’ï½±ï½²ï½³</small></div>
                    </label>
                </div>
                <div class="conv-group" style="border-left:1px dashed #ddd; padding-left:15px;">
                    <span class="category-label">æƒé™¤</span>
                    <label class="toggle-btn">
                        <input type="checkbox" id="checkRemoveSpace">
                        <div class="toggle-content"><strong>ç©ºç™½å‰Šé™¤</strong><small>ã‚¹ãƒšãƒ¼ã‚¹ã®ã¿</small></div>
                    </label>
                    <label class="toggle-btn">
                        <input type="checkbox" id="checkRemoveHyphen">
                        <div class="toggle-content"><strong>ãƒã‚¤ãƒ•ãƒ³</strong><small>090- â†’ 090</small></div>
                    </label>
                </div>
            </div>

            <div class="calc-area">
                <div class="calc-box">
                    <span class="calc-label">å¤‰æ›å‰ (Ctrl+V)</span>
                    <textarea id="convInput" class="calc-textarea" style="height:300px;" placeholder="ä¾‹ï¼š&#13;ï¼‘ï¼’ï¼“ï¼ï¼”ï¼•ï¼–ï¼—&#13;ï¼¡ï¼¢ï¼£ã€€ï¼¤ï¼¥ï¼¦&#13;ï¼ï¼™ï¼ï¼ï¼‘ï¼’ï¼“ï¼”ï¼ï¼•ï¼–ï¼—ï¼˜"></textarea>
                </div>
                <div style="display:flex; align-items:center; color:#ccc; font-size:24px;">â¡</div>
                <div class="calc-box">
                    <span class="calc-label">å¤‰æ›çµæœ</span>
                    <textarea id="convOutput" class="calc-textarea" style="height:300px;" readonly placeholder="å¤‰æ›ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨çµæœãŒå‡ºã¾ã™"></textarea>
                </div>
            </div>
            
            <div style="display:flex; gap:10px; margin-top:15px;">
                <button class="btn-primary" style="background-color:#eee; color:#555; width:30%;" onclick="clearConv()">ãƒªã‚»ãƒƒãƒˆ</button>
                <button class="btn-primary" style="background-color:#ff6b81;" onclick="convertText()">âœ¨ å¤‰æ›å®Ÿè¡Œ</button>
                <button class="btn-primary" style="background-color:#2ed573;" onclick="copyConvResult()">ğŸ“‹ çµæœã‚’ã‚³ãƒ”ãƒ¼</button>
            </div>
        </div>
    </section>

    <section id="app-memo" class="app-section">
        <div class="tool-container" style="max-width: 600px; margin: 0 auto; border-top: 5px solid #0056b3;">
            <h2>å—é›»ãƒ¡ãƒ¢ä½œæˆ</h2>
            <div style="margin-bottom:15px;">
                <label class="calc-label">å—é›»æ—¥æ™‚</label>
                <input type="text" id="memoTime" oninput="updateMemoPreview()">
            </div>
            <div style="margin-bottom:15px;">
                <label class="calc-label">ç›¸æ‰‹ã®ä¼šç¤¾åãƒ»æ°å <span class="badge-required">å¿…é ˆ</span></label>
                <input type="text" id="memoClient" placeholder="ä¾‹ï¼šã€‡ã€‡å•†äº‹ ç”°ä¸­æ§˜" oninput="updateMemoPreview()">
            </div>
            <div style="margin-bottom:15px;">
                <label class="calc-label">ç›¸æ‰‹ã®é›»è©±ç•ªå·</label>
                <input type="tel" id="memoPhone" placeholder="æŠ˜ã‚Šè¿”ã—ãŒå¿…è¦ãªå ´åˆã«å…¥åŠ›" oninput="updateMemoPreview()">
            </div>
            <div style="margin-bottom:15px;">
                <label class="calc-label">ç”¨ä»¶ãƒ»ä¼è¨€å†…å®¹</label>
                <textarea id="memoBody" style="height:80px;" placeholder="ä¾‹ï¼šè¦‹ç©æ›¸ã®ä»¶ã§ç¢ºèªã—ãŸã„ç‚¹ãŒã‚ã‚‹ãã†ã§ã™ã€‚" oninput="updateMemoPreview()"></textarea>
            </div>
            <div style="margin-bottom:15px;">
                <label class="calc-label">å¯¾å¿œä¾é ¼ï¼ˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼‰</label>
                <div class="action-group">
                    <label><input type="radio" name="actionType" value="æŠ˜ã‚Šè¿”ã—ãŠé¡˜ã„ã—ã¾ã™" checked onchange="updateMemoPreview()"><span class="action-btn">ğŸ“ æŠ˜ã‚Šè¿”ã—è¦</span></label>
                    <label><input type="radio" name="actionType" value="ä¼è¨€ã®ã¿ï¼ˆæŠ˜ã‚Šè¿”ã—ä¸è¦ï¼‰" onchange="updateMemoPreview()"><span class="action-btn">âœ‰ï¸ ä¼è¨€ã®ã¿</span></label>
                    <label><input type="radio" name="actionType" value="å†åº¦é›»è©±ã‚ã‚Šã¾ã™" onchange="updateMemoPreview()"><span class="action-btn">ğŸ”„ ã¾ãŸæ›ã‹ã£ã¦ãã¾ã™</span></label>
                </div>
            </div>

            <div class="preview-box">
                <div style="font-size:0.8em; color:#aaa; margin-bottom:5px;">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆã“ã‚Œã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ï¼‰</div>
                <textarea id="resultMemo" readonly></textarea>
            </div>
            
            <button class="btn-primary" onclick="copyMemoResult()">ğŸ“‹ ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>
        </div>
    </section>

    <section id="app-history" class="app-section">
        <div class="tool-container" style="max-width: 800px; margin: 0 auto; border-top: 5px solid #666;">
            <h2>â„¹ï¸ æ›´æ–°å±¥æ­´ãƒ»æƒ…å ±</h2>
            <ul class="version-list">
                <li class="version-item v-new">
                    <div class="v-header">
                        <span class="v-tag">v4.1</span>
                        <span class="v-date">æœ€æ–°ç‰ˆ</span>
                    </div>
                    <div class="v-desc">
                        <strong>ãƒ»ã€Œã‚µã‚¤ã‚ºæ—©è¦‹è¡¨ã€ã‚’æ‹¡å……ï¼š</strong> ã€Œç•ªç·šï¼ˆé‡é‡‘ï¼‰ã€ã¨ã€Œãƒã‚¸ãƒ»ã‚¤ãƒ³ãƒãƒ»åˆ†ã€ã®æ›ç®—è¡¨ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚<br>
                        ãƒ»ä¸è¦ã«ãªã£ãŸã€Œãƒ¡ãƒ¼ã‚«ãƒ¼ãƒªãƒ³ã‚¯é›†ã€ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚
                    </div>
                </li>
                <li class="version-item">
                    <div class="v-header">
                        <span class="v-tag">v4.0</span>
                    </div>
                    <div class="v-desc">
                        ãƒ»ã€Œæ›ã‘ç‡é€†ç®—ã€ãƒ¢ãƒ¼ãƒ‰ã‚’è¿½åŠ ã€‚<br>
                        ãƒ»ã€Œæƒ…å ±ãƒ»å±¥æ­´ã€ã‚¿ãƒ–ã‚’è¿½åŠ ã€‚
                    </div>
                </li>
                <li class="version-item">
                    <div class="v-header">
                        <span class="v-tag">v3.0</span>
                    </div>
                    <div class="v-desc">
                        ãƒ»ã€Œæ¿ã‚µã‚¤ã‚ºæ—©è¦‹è¡¨ã€ã‚¿ãƒ–ã‚’è¿½åŠ ã€‚
                    </div>
                </li>
                <li class="version-item">
                    <div class="v-header">
                        <span class="v-tag">v2.0</span>
                    </div>
                    <div class="v-desc">
                        ãƒ»è¨ˆç®—æ©Ÿã«ã€Œå‰²ã‚Šæˆ»ã—è¨ˆç®—ã€ãƒ¢ãƒ¼ãƒ‰ã¨è¨ˆç®—å±¥æ­´ä¿å­˜æ©Ÿèƒ½ã‚’è¿½åŠ ã€‚
                    </div>
                </li>
                <li class="version-item">
                    <div class="v-header">
                        <span class="v-tag">v1.0</span>
                    </div>
                    <div class="v-desc">
                        ãƒ»ãƒªãƒªãƒ¼ã‚¹ï¼ˆä¸€æ‹¬ãƒªã‚µãƒ¼ãƒã€å®šä¾¡è¨ˆç®—ã€å˜ä½å¤‰æ›ã€æ–‡å­—å¤‰æ›ã€é›»è©±ãƒ¡ãƒ¢ï¼‰ã€‚
                    </div>
                </li>
            </ul>
        </div>
    </section>

    <section id="app-guide" class="app-section">
        <div class="tool-container" style="border-top: 5px solid #888;">
            <h2>ğŸ“– ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰</h2>
            
            <p style="text-align:center; margin-bottom:30px;">
                æ¯æ—¥ã®æ¥­å‹™ãŠç–²ã‚Œæ§˜ã§ã™ï¼<br>
                ã“ã®ãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆã¯ã€æ—¥ã€…ã®ã€Œã¡ã‚‡ã£ã¨é¢å€’ãªä½œæ¥­ã€ã‚’æ¥½ã«ã™ã‚‹ãŸã‚ã«ä½œã‚‰ã‚Œã¾ã—ãŸã€‚<br>
                ãã‚Œãã‚Œã®ä¾¿åˆ©æ©Ÿèƒ½ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚
            </p>

            <div class="guide-box" style="border-color: #ff9900;">
                <div class="guide-title"><span class="guide-badge" style="background:#ff9900;">ãƒªã‚µãƒ¼ãƒ</span> å•†å“ä¸€æ‹¬ãƒªã‚µãƒ¼ãƒ</div>
                <div class="guide-desc">
                    å‹ç•ªã‚„å•†å“åã‚’å…¥ã‚Œã‚‹ã ã‘ã§ã€Googleãƒ»ç”»åƒæ¤œç´¢ãƒ»ãƒˆãƒ©ã‚¹ã‚³ãƒ»MonotaROãªã©ã‚’<strong>ä¸€åº¦ã«ã¾ã¨ã‚ã¦æ¤œç´¢</strong>ã§ãã¾ã™ã€‚
                </div>
            </div>

            <div class="guide-box" style="border-color: #0056b3;">
                <div class="guide-title"><span class="guide-badge" style="background:#0056b3;">è¨ˆç®—</span> è¨ˆç®—ãƒ»å‰²ã‚Šæˆ»ã—ãƒ»é€†ç®—</div>
                <div class="guide-desc">
                    <strong>â‘  æ›ã‘ç‡è¨ˆç®—ï¼ˆé’ï¼‰ï¼š</strong> å®šä¾¡ Ã— 70% ï¼ ä»•åˆ‡ä¾¡æ ¼<br>
                    <strong>â‘¡ å‰²ã‚Šæˆ»ã—è¨ˆç®—ï¼ˆæ©™ï¼‰ï¼š</strong> åŸä¾¡ Ã· 80% ï¼ å£²å€¤<br>
                    <strong>â‘¢ æ›ã‘ç‡é€†ç®—ï¼ˆç´«ï¼‰ï¼š</strong> ã€Œã“ã®å®šä¾¡ã¨ä»•åˆ‡ã€ä½•ï¼…ï¼Ÿã€ã‚’ä¸€ç™ºè¨ˆç®—ï¼ˆExcelã‹ã‚‰2åˆ—ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘ï¼‰ã€‚<br>
                    <strong>â˜…å±¥æ­´æ©Ÿèƒ½ï¼š</strong> ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€è¨ˆç®—çµæœãŒå±¥æ­´ã«æ®‹ã‚Šã¾ã™ã€‚
                </div>
            </div>

            <div class="guide-box" style="border-color: #e67e22;">
                <div class="guide-title"><span class="guide-badge" style="background:#e67e22;">å˜ä½</span> å»ºæå˜ä½ å¤‰æ›ãã‚“</div>
                <div class="guide-desc">
                    ã€Œ1é–“ï¼ˆã‘ã‚“ï¼‰ã¯ä½•ãƒŸãƒªï¼Ÿã€ã€Œ10åªã¯ä½•å¹³ç±³ï¼Ÿã€ã¨ã„ã†æ™‚ã«ã€‚æ•°å­—ã‚’å…¥ã‚Œã‚‹ã ã‘ã§ç›¸äº’ã«å¤‰æ›ã—ã¾ã™ã€‚
                </div>
            </div>

            <div class="guide-box" style="border-color: #28a745;">
                <div class="guide-title"><span class="guide-badge" style="background:#28a745;">ã‚µã‚¤ã‚º</span> ã‚µã‚¤ã‚ºæ—©è¦‹è¡¨</div>
                <div class="guide-desc">
                    ã€Œã‚µãƒ–ãƒ­ã‚¯æ¿ã€ã€Œç•ªç·šã®ç·šå¾„ã€ã€Œãƒã‚¸ã®ã‚¤ãƒ³ãƒãƒ»åˆ†ã€ãªã©ã®ãƒŸãƒªæ›ç®—ä¸€è¦§è¡¨ã§ã™ã€‚
                </div>
            </div>

            <div class="guide-box" style="border-color: #ff6b81;">
                <div class="guide-title"><span class="guide-badge" style="background:#ff6b81;">æ–‡å­—</span> æ–‡å­—å¤‰æ›ãƒ„ãƒ¼ãƒ«</div>
                <div class="guide-desc">
                    Excelã‚„ãƒ¡ãƒ¼ãƒ«ã®æ–‡ç« ã§ã€Œå…¨è§’ãƒ»åŠè§’ãŒãƒãƒ©ãƒãƒ©ã€ãªæ™‚ã«ä½¿ã„ã¾ã™ã€‚<br>
                    è²¼ã‚Šä»˜ã‘ã¦ã€Œå¤‰æ›ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã›ã°ã€æ•°å­—ã‚’åŠè§’ã«æƒãˆãŸã‚Šã€ã‚«ã‚¿ã‚«ãƒŠã‚’å…¨è§’ã«ç›´ã—ãŸã‚Šã§ãã¾ã™ã€‚
                </div>
            </div>

            <div class="guide-box" style="border-color: #333;">
                <div class="guide-title"><span class="guide-badge" style="background:#333;">ãƒ¡ãƒ¢</span> å—é›»ãƒ¡ãƒ¢ä½œæˆ</div>
                <div class="guide-desc">
                    é›»è©±ã‚’å—ã‘ãªãŒã‚‰å…¥åŠ›ã—ã¦ã€æœ€å¾Œã«ã€Œã‚³ãƒ”ãƒ¼ã€ã‚’æŠ¼ã™ã ã‘ã€‚ãƒãƒ£ãƒƒãƒˆãƒ„ãƒ¼ãƒ«ã«è²¼ã‚Šä»˜ã‘ã‚„ã™ã„å½¢å¼ã«ã—ã¾ã™ã€‚
                </div>
            </div>

        </div>
    </section>

</div>
<div id="toast">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</div>

<script>
    // --- åˆæœŸåŒ–å‡¦ç† ---
    window.onload = function() {
        initSearchCheckboxes();
        document.getElementById('keyword').focus();
        handleInputMultiplier();
        loadHistory(); // è¨ˆç®—å±¥æ­´èª­ã¿è¾¼ã¿
        
        const now = new Date();
        const str = `${now.getMonth() + 1}/${now.getDate()} ${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
        document.getElementById('memoTime').value = str;
        updateMemoPreview();
    };

    function switchApp(appId) {
        document.querySelectorAll('.app-section').forEach(sec => sec.classList.remove('active'));
        document.getElementById(appId).classList.add('active');
        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
        event.currentTarget.classList.add('active');
    }

    // --- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ ---
    function copyToClipboard(text) {
        if (!text) { alert("å†…å®¹ãŒç©ºã§ã™"); return; }
        navigator.clipboard.writeText(text).then(() => {
            const t = document.getElementById("toast");
            t.className = "show";
            setTimeout(() => { t.className = t.className.replace("show", ""); }, 3000);
        });
    }

    // --- 1. å•†å“ãƒªã‚µãƒ¼ãƒ ---
    const searchTargets = [
        { id: "google", name: "Google æ¤œç´¢", url: "https://www.google.com/search?q=", checked: true },
        { id: "image", name: "Google ç”»åƒ", url: "https://www.google.com/search?tbm=isch&q=", checked: true },
        { id: "trusco", name: "ãƒˆãƒ©ã‚¹ã‚³ (Orange)", url: "https://www.orange-book.com/ja/c/search/result.html?q=", checked: true },
        { id: "monotaro", name: "MonotaRO", url: "https://www.monotaro.com/s/?q=", checked: true },
        { id: "amazon", name: "Amazon", url: "https://www.amazon.co.jp/s?k=", checked: false },
        { id: "rakuten", name: "æ¥½å¤©å¸‚å ´", url: "https://search.rakuten.co.jp/search/mall/", checked: false }
    ];
    function initSearchCheckboxes() {
        const area = document.getElementById('checkboxArea');
        searchTargets.forEach(site => {
            const label = document.createElement('label');
            const checkbox = document.createElement('input');
            checkbox.type = "checkbox"; checkbox.id = "check_" + site.id; checkbox.checked = site.checked;
            label.appendChild(checkbox); label.appendChild(document.createTextNode(site.name));
            area.appendChild(label);
        });
    }
    function multiSearch() {
        const keyword = document.getElementById('keyword').value.trim();
        if (!keyword) { alert("ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"); return; }
        const encoded = encodeURIComponent(keyword);
        let count = 0;
        searchTargets.forEach(site => {
            const cb = document.getElementById("check_" + site.id);
            if (cb && cb.checked) { window.open(site.url + encoded, '_blank'); count++; }
        });
        if (count === 0) alert("æ¤œç´¢ã‚µã‚¤ãƒˆã‚’é¸æŠã—ã¦ãã ã•ã„");
    }
    function handleEnterSearch(e) { if(e.key === 'Enter') multiSearch(); }

    // --- 2. è¨ˆç®—æ©Ÿ (v3: é€†ç®—è¿½åŠ ) ---
    let historyData = [];

    function changeCalcMode() {
        const mode = document.querySelector('input[name="calcMode"]:checked').value;
        const container = document.getElementById('calcContainer');
        const arrow = document.getElementById('arrowIcon');
        const rateCol = document.getElementById('colRate');
        const roundCol = document.getElementById('colRounding');
        
        // ã‚¯ãƒ©ã‚¹ãƒªã‚»ãƒƒãƒˆ
        container.parentElement.classList.remove('mode-divide', 'mode-reverse');

        if (mode === 'divide') {
            container.parentElement.classList.add('mode-divide');
            document.getElementById('rateLabel').textContent = "å‰²ã‚Šæˆ»ã—ç‡ï¼ˆï¼…ï¼‰";
            document.getElementById('inputLabel').textContent = "ã€å…¥åŠ›ã€‘åŸä¾¡ãƒªã‚¹ãƒˆ";
            document.getElementById('outputLabel').textContent = "ã€çµæœã€‘å£²å€¤ (åˆ©ç›Šä¹—ã›)";
            arrow.textContent = "â—";
            document.getElementById('inputArea').placeholder = "Excelã‹ã‚‰è²¼ã‚Šä»˜ã‘\n1000\n2500";
            rateCol.style.display = "block";
            roundCol.style.visibility = "visible";
            if(document.getElementById('multiplier').value == "70") document.getElementById('multiplier').value = "85";
        
        } else if (mode === 'reverse') {
            container.parentElement.classList.add('mode-reverse');
            // é€†ç®—ãƒ¢ãƒ¼ãƒ‰ï¼šæ›ã‘ç‡å…¥åŠ›ãªã©ã¯éš ã™
            document.getElementById('inputLabel').textContent = "ã€å…¥åŠ›ã€‘å®šä¾¡ã¨ä»•åˆ‡ (2åˆ—è²¼ä»˜)";
            document.getElementById('outputLabel').textContent = "ã€çµæœã€‘æ›ã‘ç‡ (%)";
            arrow.textContent = "â“";
            document.getElementById('inputArea').placeholder = "Excelã‹ã‚‰2åˆ—ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘\n12900  5934\nå®šä¾¡   ä»•åˆ‡";
            rateCol.style.display = "none";
            roundCol.style.visibility = "hidden"; // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå´©ã‚Œé˜²æ­¢ã®ãŸã‚visibilityã§éš ã™

        } else {
            // Multiply
            document.getElementById('rateLabel').textContent = "æ›ã‘ç‡ï¼ˆï¼…ï¼‰";
            document.getElementById('inputLabel').textContent = "ã€å…¥åŠ›ã€‘å®šä¾¡ãƒªã‚¹ãƒˆ";
            document.getElementById('outputLabel').textContent = "ã€çµæœã€‘ä»•åˆ‡ä¾¡æ ¼";
            arrow.textContent = "âœ–";
            document.getElementById('inputArea').placeholder = "Excelã‹ã‚‰è²¼ã‚Šä»˜ã‘\n10,000\n15800";
            rateCol.style.display = "block";
            roundCol.style.visibility = "visible";
        }
        handleInputMultiplier();
    }

    function setMultiplier(val) { document.getElementById('multiplier').value = val; handleInputMultiplier(); }
    
    function handleInputMultiplier() {
        const val = document.getElementById('multiplier').value;
        document.querySelectorAll('.btn-preset').forEach(btn => {
            if (btn.textContent.replace('%','') == val) btn.classList.add('active'); else btn.classList.remove('active');
        });
        calculatePrice();
    }

    function calculatePrice() {
        const input = document.getElementById('inputArea').value;
        const mult = parseFloat(document.getElementById('multiplier').value) || 0;
        const mode = document.getElementById('roundingMode').value;
        const isTax = document.getElementById('checkTax').checked;
        const calcMode = document.querySelector('input[name="calcMode"]:checked').value;

        const lines = input.split('\n');
        document.getElementById('countInput').textContent = lines.length + "è¡Œ";
        document.getElementById('countOutput').textContent = lines.length + "è¡Œ";
        
        const results = lines.map(line => {
            // é€†ç®—ãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã®å‡¦ç†
            if (calcMode === 'reverse') {
                // ç©ºç™½ã‚„ã‚¿ãƒ–ã§åŒºåˆ‡ã‚‰ã‚ŒãŸæ•°å­—ã‚’æ¢ã™
                let nums = line.replace(/,/g, '').match(/(\d+(\.\d+)?)/g); // ã‚«ãƒ³ãƒé™¤å»ã—ã¦æ•°å€¤æŠ½å‡º
                if (!nums || nums.length < 2) return "";
                
                let val1 = parseFloat(nums[0]);
                let val2 = parseFloat(nums[1]);
                if (val1 === 0 && val2 === 0) return "0%";
                
                // é€šå¸¸ã€å®šä¾¡ > ä»•åˆ‡ ãªã®ã§ã€å¤§ãã„æ–¹ã§å°ã•ã„æ–¹ã‚’å‰²ã‚‹
                let big = Math.max(val1, val2);
                let small = Math.min(val1, val2);
                if (big === 0) return "";

                let rate = (small / big) * 100;
                // å°æ•°ç¬¬1ä½ã¾ã§
                return rate.toFixed(1) + "%";
            }

            // é€šå¸¸ãƒ»å‰²ã‚Šæˆ»ã—ãƒ¢ãƒ¼ãƒ‰
            let clean = line.replace(/[^\d.]/g, ''); if (!clean) return "";
            let price = parseFloat(clean); if (isNaN(price)) return "";
            
            let final = 0;
            if (calcMode === 'divide') {
                final = (mult === 0) ? 0 : price / (mult / 100);
            } else {
                final = price * (mult / 100);
            }

            if (isTax) final *= 1.10;
            
            if (mode === 'floor') final = Math.floor(final);
            else if (mode === 'round') final = Math.round(final);
            else if (mode === 'ceil') final = Math.ceil(final);
            
            return final.toLocaleString();
        });
        document.getElementById('outputArea').value = results.join('\n');
    }

    function copyPriceResult() {
        const val = document.getElementById('outputArea').value;
        if (!val) { alert("çµæœãŒã‚ã‚Šã¾ã›ã‚“"); return; }
        
        // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼
        navigator.clipboard.writeText(val).then(() => {
            saveHistory(); // æˆåŠŸã—ãŸã‚‰å±¥æ­´ä¿å­˜
            const t = document.getElementById("toast");
            t.textContent = "ã‚³ãƒ”ãƒ¼ï¼†å±¥æ­´ä¿å­˜ã—ã¾ã—ãŸï¼";
            t.className = "show";
            setTimeout(() => { t.className = t.className.replace("show", ""); }, 3000);
        });
    }

    function saveHistory() {
        const inputVal = document.getElementById('inputArea').value;
        const rateVal = document.getElementById('multiplier').value;
        const calcMode = document.querySelector('input[name="calcMode"]:checked').value;
        const now = new Date();
        const timeStr = `${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')}`;
        
        const lines = inputVal.split('\n').filter(l => l.trim() !== "");
        let summary = lines.length > 0 ? lines[0] : "";
        if (lines.length > 1) summary += ` (ä»–${lines.length-1}è¡Œ)`;

        const newItem = { time: timeStr, mode: calcMode, rate: rateVal, input: inputVal, summary: summary };
        historyData.unshift(newItem);
        if (historyData.length > 30) historyData.pop();
        localStorage.setItem('calcHistory_v3', JSON.stringify(historyData));
        renderHistory();
    }

    function loadHistory() {
        const stored = localStorage.getItem('calcHistory_v3');
        if (stored) { historyData = JSON.parse(stored); renderHistory(); }
    }

    function renderHistory() {
        const list = document.getElementById('historyList');
        list.innerHTML = "";
        historyData.forEach((item, index) => {
            const li = document.createElement('li');
            li.className = 'history-item';
            
            let badge = "";
            if(item.mode === 'divide') badge = `<span class="h-mode m-div">Ã· ${item.rate}%</span>`;
            else if(item.mode === 'reverse') badge = `<span class="h-mode m-rev">é€†ç®—</span>`;
            else badge = `<span class="h-mode m-mul">Ã— ${item.rate}%</span>`;

            li.innerHTML = `<span class="h-time">${item.time}</span>${badge}<span class="h-detail">${item.summary}</span><button class="h-btn" onclick="restoreHistory(${index})">å‘¼å‡º</button>`;
            list.appendChild(li);
        });
    }

    function restoreHistory(index) {
        const item = historyData[index];
        if (!item) return;
        document.getElementById('inputArea').value = item.input;
        
        if (item.mode === 'reverse') {
            document.getElementById('modeReverse').checked = true;
        } else if (item.mode === 'divide') {
            document.getElementById('modeDivide').checked = true;
            document.getElementById('multiplier').value = item.rate;
        } else {
            document.getElementById('modeMultiply').checked = true;
            document.getElementById('multiplier').value = item.rate;
        }
        
        changeCalcMode();
        document.getElementById('inputArea').focus();
    }

    function clearHistory() {
        if(confirm("å±¥æ­´ã‚’å…¨ã¦æ¶ˆå»ã—ã¾ã™ã‹ï¼Ÿ")) {
            historyData = []; localStorage.removeItem('calcHistory_v3'); renderHistory();
        }
    }


    // --- 3. å˜ä½å¤‰æ› ---
    const SHAKU_MM = 303.0303; const TSUBO_M2 = 3.305785; const TATAMI_M2 = 1.6562;
    function switchUnitTab(targetId, tabEl) {
        document.querySelectorAll('.unit-content').forEach(c => c.classList.remove('active'));
        document.getElementById(targetId).classList.add('active');
        document.querySelectorAll('.unit-tab').forEach(t => t.classList.remove('active'));
        tabEl.classList.add('active');
    }
    function calcFromShaku() {
        const val = parseFloat(document.getElementById('inputShaku').value);
        document.getElementById('inputMm').value = isNaN(val) ? '' : (val * SHAKU_MM).toFixed(1);
    }
    function calcFromMm() {
        const val = parseFloat(document.getElementById('inputMm').value);
        document.getElementById('inputShaku').value = isNaN(val) ? '' : (val / SHAKU_MM).toFixed(3);
    }
    function setLength(val) { document.getElementById('inputShaku').value = val; calcFromShaku(); }
    function calcFromTsubo() {
        const val = parseFloat(document.getElementById('inputTsubo').value);
        if(isNaN(val)) { document.getElementById('inputM2').value=''; document.getElementById('inputTatami').value=''; return; }
        document.getElementById('inputM2').value = (val * TSUBO_M2).toFixed(2);
        document.getElementById('inputTatami').value = (val * 2).toFixed(1);
    }
    function calcFromM2() {
        const val = parseFloat(document.getElementById('inputM2').value);
        if(isNaN(val)) { document.getElementById('inputTsubo').value=''; document.getElementById('inputTatami').value=''; return; }
        document.getElementById('inputTsubo').value = (val / TSUBO_M2).toFixed(2);
        document.getElementById('inputTatami').value = (val / TATAMI_M2).toFixed(1);
    }
    function calcFromTatami() {
        const val = parseFloat(document.getElementById('inputTatami').value);
        if(isNaN(val)) { document.getElementById('inputTsubo').value=''; document.getElementById('inputM2').value=''; return; }
        document.getElementById('inputM2').value = (val * TATAMI_M2).toFixed(2);
        document.getElementById('inputTsubo').value = (val / 2).toFixed(2);
    }
    function setArea(val) { document.getElementById('inputTsubo').value = val; calcFromTsubo(); }
    function clearUnitInputs() {
        document.getElementById('app-unit').querySelectorAll('input').forEach(i => i.value = '');
    }

    // --- 4. é›»è©±ãƒ¡ãƒ¢ ---
    function updateMemoPreview() {
        const dt = document.getElementById('memoTime').value;
        const cl = document.getElementById('memoClient').value || 'ï¼ˆç›¸æ‰‹åæœªå…¥åŠ›ï¼‰';
        const ph = document.getElementById('memoPhone').value;
        const bd = document.getElementById('memoBody').value || 'ç‰¹ã«ãªã—';
        let act = ''; document.getElementsByName('actionType').forEach(r => { if(r.checked) act = r.value; });
        const phLine = ph ? `â– é€£çµ¡å…ˆï¼š${ph}\n` : '';
        document.getElementById('resultMemo').value = `ã€é›»è©±ãƒ¡ãƒ¢ã€‘\nâ– æ—¥æ™‚ã€€ï¼š${dt}\nâ– ç›¸æ‰‹ã€€ï¼š${cl}\n${phLine}â– ç”¨ä»¶\n${bd}\n\n-------------------------\nâ˜…å¯¾å¿œï¼š${act}`;
    }
    function copyMemoResult() { copyToClipboard(document.getElementById('resultMemo').value); }

    // --- 5. æ–‡å­—å¤‰æ›ãƒ„ãƒ¼ãƒ« ---
    function toggleGroup(type, mode) {
        if (type === 'num') {
            if (mode === 'half' && document.getElementById('mode_num_half').checked) document.getElementById('mode_num_full').checked = false;
            else if (mode === 'full' && document.getElementById('mode_num_full').checked) document.getElementById('mode_num_half').checked = false;
        }
        if (type === 'kana') {
            if (mode === 'full' && document.getElementById('mode_kana_full').checked) document.getElementById('mode_kana_half').checked = false;
            else if (mode === 'half' && document.getElementById('mode_kana_half').checked) document.getElementById('mode_kana_full').checked = false;
        }
    }
    function convertText() {
        let text = document.getElementById('convInput').value;
        if (document.getElementById('mode_num_half').checked) {
            text = text.replace(/[ï¼-ï½]/g, s => String.fromCharCode(s.charCodeAt(0) - 0xFEE0)).replace(/ã€€/g, ' ');
        }
        if (document.getElementById('mode_num_full').checked) {
            text = text.replace(/[!-~]/g, s => String.fromCharCode(s.charCodeAt(0) + 0xFEE0)).replace(/ /g, 'ã€€');
        }
        if (document.getElementById('mode_kana_full').checked) {
            const km = {'ï½¶ï¾':'ã‚¬','ï½·ï¾':'ã‚®','ï½¸ï¾':'ã‚°','ï½¹ï¾':'ã‚²','ï½ºï¾':'ã‚´','ï½»ï¾':'ã‚¶','ï½¼ï¾':'ã‚¸','ï½½ï¾':'ã‚º','ï½¾ï¾':'ã‚¼','ï½¿ï¾':'ã‚¾','ï¾€ï¾':'ãƒ€','ï¾ï¾':'ãƒ‚','ï¾‚ï¾':'ãƒ…','ï¾ƒï¾':'ãƒ‡','ï¾„ï¾':'ãƒ‰','ï¾Šï¾':'ãƒ','ï¾‹ï¾':'ãƒ“','ï¾Œï¾':'ãƒ–','ï¾ï¾':'ãƒ™','ï¾ï¾':'ãƒœ','ï¾Šï¾Ÿ':'ãƒ‘','ï¾‹ï¾Ÿ':'ãƒ”','ï¾Œï¾Ÿ':'ãƒ—','ï¾ï¾Ÿ':'ãƒš','ï¾ï¾Ÿ':'ãƒ','ï½³ï¾':'ãƒ´','ï¾œï¾':'ãƒ·','ï½¦ï¾':'ãƒº','ï½±':'ã‚¢','ï½²':'ã‚¤','ï½³':'ã‚¦','ï½´':'ã‚¨','ï½µ':'ã‚ª','ï½¶':'ã‚«','ï½·':'ã‚­','ï½¸':'ã‚¯','ï½¹':'ã‚±','ï½º':'ã‚³','ï½»':'ã‚µ','ï½¼':'ã‚·','ï½½':'ã‚¹','ï½¾':'ã‚»','ï½¿':'ã‚½','ï¾€':'ã‚¿','ï¾':'ãƒ','ï¾‚':'ãƒ„','ï¾ƒ':'ãƒ†','ï¾„':'ãƒˆ','ï¾…':'ãƒŠ','ï¾†':'ãƒ‹','ï¾‡':'ãƒŒ','ï¾ˆ':'ãƒ','ï¾‰':'ãƒ','ï¾Š':'ãƒ','ï¾‹':'ãƒ’','ï¾Œ':'ãƒ•','ï¾':'ãƒ˜','ï¾':'ãƒ›','ï¾':'ãƒ','ï¾':'ãƒŸ','ï¾‘':'ãƒ ','ï¾’':'ãƒ¡','ï¾“':'ãƒ¢','ï¾”':'ãƒ¤','ï¾•':'ãƒ¦','ï¾–':'ãƒ¨','ï¾—':'ãƒ©','ï¾˜':'ãƒª','ï¾™':'ãƒ«','ï¾š':'ãƒ¬','ï¾›':'ãƒ­','ï¾œ':'ãƒ¯','ï½¦':'ãƒ²','ï¾':'ãƒ³','ï½§':'ã‚¡','ï½¨':'ã‚£','ï½©':'ã‚¥','ï½ª':'ã‚§','ï½«':'ã‚©','ï½¯':'ãƒƒ','ï½¬':'ãƒ£','ï½­':'ãƒ¥','ï½®':'ãƒ§','ï½¡':'ã€‚','ï½¢':'ã€Œ','ï½£':'ã€','ï½¤':'ã€','ï½¥':'ãƒ»','ï½°':'ãƒ¼'};
            let reg = new RegExp('(' + Object.keys(km).join('|') + ')', 'g');
            text = text.replace(reg, m => km[m]).replace(/ï¾/g, 'ã‚›').replace(/ï¾Ÿ/g, 'ã‚œ');
        }
        if (document.getElementById('mode_kana_half').checked) {
            const hm = {'ã‚¬':'ï½¶ï¾','ã‚®':'ï½·ï¾','ã‚°':'ï½¸ï¾','ã‚²':'ï½¹ï¾','ã‚´':'ï½ºï¾','ã‚¶':'ï½»ï¾','ã‚¸':'ï½¼ï¾','ã‚º':'ï½½ï¾','ã‚¼':'ï½¾ï¾','ã‚¾':'ï½¿ï¾','ãƒ€':'ï¾€ï¾','ãƒ‚':'ï¾ï¾','ãƒ…':'ï¾‚ï¾','ãƒ‡':'ï¾ƒï¾','ãƒ‰':'ï¾„ï¾','ãƒ':'ï¾Šï¾','ãƒ“':'ï¾‹ï¾','ãƒ–':'ï¾Œï¾','ãƒ™':'ï¾ï¾','ãƒœ':'ï¾ï¾','ãƒ‘':'ï¾Šï¾Ÿ','ãƒ”':'ï¾‹ï¾Ÿ','ãƒ—':'ï¾Œï¾Ÿ','ãƒš':'ï¾ï¾Ÿ','ãƒ':'ï¾ï¾Ÿ','ãƒ´':'ï½³ï¾','ãƒ·':'ï¾œï¾','ãƒº':'ï½¦ï¾','ã‚¢':'ï½±','ã‚¤':'ï½²','ã‚¦':'ï½³','ã‚¨':'ï½´','ã‚ª':'ï½µ','ã‚«':'ï½¶','ã‚­':'ï½·','ã‚¯':'ï½¸','ã‚±':'ï½¹','ã‚³':'ï½º','ã‚µ':'ï½»','ã‚·':'ï½¼','ã‚¹':'ï½½','ã‚»':'ï½¾','ã‚½':'ï½¿','ã‚¿':'ï¾€','ãƒ':'ï¾','ãƒ„':'ï¾‚','ãƒ†':'ï¾ƒ','ãƒˆ':'ï¾„','ãƒŠ':'ï¾…','ãƒ‹':'ï¾†','ãƒŒ':'ï¾‡','ãƒ':'ï¾ˆ','ãƒ':'ï¾‰','ãƒ':'ï¾Š','ãƒ’':'ï¾‹','ãƒ•':'ï¾Œ','ãƒ˜':'ï¾','ãƒ›':'ï¾','ãƒ':'ï¾','ãƒŸ':'ï¾','ãƒ ':'ï¾‘','ãƒ¡':'ï¾’','ãƒ¢':'ï¾“','ãƒ¤':'ï¾”','ãƒ¦':'ï¾•','ãƒ¨':'ï¾–','ãƒ©':'ï¾—','ãƒª':'ï¾˜','ãƒ«':'ï¾™','ãƒ¬':'ï¾š','ãƒ­':'ï¾›','ãƒ¯':'ï¾œ','ãƒ²':'ï½¦','ãƒ³':'ï¾','ã‚¡':'ï½§','ã‚£':'ï½¨','ã‚¥':'ï½©','ã‚§':'ï½ª','ã‚©':'ï½«','ãƒƒ':'ï½¯','ãƒ£':'ï½¬','ãƒ¥':'ï½­','ãƒ§':'ï½®','ã€‚':'ï½¡','ã€Œ':'ï½¢','ã€':'ï½£','ã€':'ï½¤','ãƒ»':'ï½¥','ãƒ¼':'ï½°','ã‚›':'ï¾','ã‚œ':'ï¾Ÿ'};
            text = text.replace(/[ã‚¡-ãƒ³ãƒ´ãƒ¼ã‚›ã‚œã€Œã€ã€‚ã€ãƒ»]/g, s => hm[s] || s);
        }
        if (document.getElementById('checkRemoveSpace').checked) text = text.replace(/[ ã€€\t]+/g, '');
        if (document.getElementById('checkRemoveHyphen').checked) text = text.replace(/-/g, '').replace(/ãƒ¼/g, '').replace(/ï¼/g, '');
        document.getElementById('convOutput').value = text;
    }
    function copyConvResult() { copyToClipboard(document.getElementById('convOutput').value); }
    function clearConv() {
        document.getElementById('convInput').value = '';
        document.getElementById('convOutput').value = '';
    }
</script>

</body>
</html>