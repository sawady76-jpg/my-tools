<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ–‡å­—å¤‰æ›ãƒ„ãƒ¼ãƒ«</title>
<style>
    /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’å‡ºã•ãªã„è¨­å®š */
    html, body { height: 100%; margin: 0; padding: 0; overflow: hidden; }
    
    body { 
        font-family: "Helvetica Neue", Arial, sans-serif; 
        background-color: #fff0f5; 
        color: #555; 
        display: flex; 
        justify-content: center; 
        align-items: center; 
        padding: 10px; 
        box-sizing: border-box;
    }

    .container { 
        width: 100%; 
        max-width: 1000px; 
        height: 98vh; 
        background: #fff; 
        padding: 15px 25px; 
        border-radius: 15px; 
        box-shadow: 0 5px 20px rgba(255, 182, 193, 0.4); 
        border: 2px solid #fff; 
        box-sizing: border-box;
        display: flex;
        flex-direction: column; 
    }
    
    /* ã‚¿ã‚¤ãƒˆãƒ« */
    h2 { 
        text-align: center; 
        color: #ff6b81; 
        margin: 0 0 10px 0; 
        font-size: 1.2rem; 
        letter-spacing: 1px; 
        flex-shrink: 0; 
    }

    /* è¨­å®šã‚¨ãƒªã‚¢ */
    .settings-area { 
        margin-bottom: 10px; 
        display: flex; 
        justify-content: center; 
        gap: 20px;
        flex-shrink: 0;
        border-bottom: 1px dashed #ffd1dc;
        padding-bottom: 10px;
    }
    
    .setting-group {
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .category-label { 
        font-size: 0.8rem; 
        font-weight: bold; 
        color: #ff8da1; 
        writing-mode: vertical-rl; 
        margin-right: 5px;
    }
    
    /* ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ */
    .toggle-btn { position: relative; cursor: pointer; user-select: none; margin: 0; }
    .toggle-btn input { display: none; }
    .toggle-content {
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        width: 100px; height: 50px; 
        background: #f9f9f9; border: 1px solid #eee; border-radius: 8px;
        transition: 0.2s; color: #aaa; text-align: center; padding: 2px;
    }
    .toggle-content strong { font-size: 0.8rem; margin-bottom: 0; display: block; color: #777; }
    .toggle-content small { font-size: 0.65rem; opacity: 0.8; line-height: 1.1; }

    .toggle-btn input:checked + .toggle-content {
        background: #fff5f7; border-color: #ff6b81; color: #ff6b81;
        box-shadow: 0 2px 5px rgba(255, 107, 129, 0.2);
    }
    .toggle-btn input:checked + .toggle-content strong { color: #ff6b81; }
    
    /* å…¥å‡ºåŠ›ã‚¨ãƒªã‚¢ */
    .flex-box { 
        display: flex; 
        gap: 15px; 
        margin-top: 5px; 
        flex-grow: 1; 
        min-height: 0; 
    }
    .box-half { 
        flex: 1; 
        display: flex; 
        flex-direction: column; 
    }
    
    label { font-weight: bold; display: block; margin-bottom: 5px; color: #777; font-size: 0.85em; }
    
    textarea { 
        flex-grow: 1; 
        width: 100%; 
        padding: 10px; 
        border: 2px solid #f0f0f0; border-radius: 8px; 
        font-size: 15px; line-height: 1.5; font-family: monospace; 
        box-sizing: border-box; resize: none; 
        outline: none;
    }
    textarea:focus { border-color: #ff6b81; background: #fffbfb; }
    
    /* ãƒ—ãƒ¬ãƒ‡ã‚­ã‚¹ãƒˆï¼ˆplaceholderï¼‰ã®è‰²èª¿æ•´ */
    textarea::placeholder { color: #ccc; }

    .arrow-area { 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        color: #ffb6c1; 
        font-size: 1.5rem; 
    }

    /* ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ */
    .btn-area { 
        margin-top: 15px; 
        text-align: center; 
        display: flex; 
        gap: 15px; 
        justify-content: center; 
        flex-shrink: 0; 
    }
    
    .btn-convert { 
        background: linear-gradient(45deg, #ff9a9e, #fecfef); 
        color: white; border: none; padding: 10px 40px; 
        font-size: 1rem; font-weight: bold; border-radius: 30px; 
        cursor: pointer; transition: 0.3s; box-shadow: 0 3px 10px rgba(255, 154, 158, 0.4);
        display: flex; align-items: center; gap: 5px;
    }
    .btn-convert:hover { transform: translateY(-2px); }

    .btn-copy {
        background: white; border: 2px solid #2ed573; color: #2ed573;
        padding: 10px 30px; font-size: 0.95rem; font-weight: bold; border-radius: 30px;
        cursor: pointer; transition: 0.3s;
    }
    .btn-copy:hover { background: #2ed573; color: white; }
    
    .btn-clear {
        background: #eee; color: #777; border: none; padding: 10px 20px; border-radius: 30px; cursor: pointer; font-size: 0.9rem;
    }
    .btn-clear:hover { background: #ddd; }

    #toast { visibility: hidden; min-width: 200px; margin-left: -100px; background-color: #333; color: #fff; text-align: center; border-radius: 50px; padding: 10px; position: fixed; z-index: 100; left: 50%; bottom: 80px; font-size: 14px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    #toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }
    
    @keyframes fadein { from {bottom: 50px; opacity: 0;} to {bottom: 80px; opacity: 1;} }
    @keyframes fadeout { from {bottom: 80px; opacity: 1;} to {bottom: 50px; opacity: 0;} }
</style>
</head>
<body>

<div class="container">
    <h2>âœ¨ æ–‡å­—å¤‰æ›ãƒ„ãƒ¼ãƒ«</h2>
    
    <div class="settings-area">
        <div class="setting-group">
            <span class="category-label">è‹±æ•°</span>
            <label class="toggle-btn">
                <input type="checkbox" id="mode_num_half" checked onchange="toggleGroup('num', 'half')">
                <div class="toggle-content">
                    <strong>åŠè§’ã¸</strong>
                    <small>ï¼‘ï¼’ï¼“â†’123</small>
                </div>
            </label>
            <label class="toggle-btn">
                <input type="checkbox" id="mode_num_full" onchange="toggleGroup('num', 'full')">
                <div class="toggle-content">
                    <strong>å…¨è§’ã¸</strong>
                    <small>123â†’ï¼‘ï¼’ï¼“</small>
                </div>
            </label>
        </div>

        <div class="setting-group" style="border-left:1px dashed #ffd1dc; padding-left:15px; margin-left:5px;">
            <span class="category-label">ã‚«ãƒŠ</span>
            <label class="toggle-btn">
                <input type="checkbox" id="mode_kana_full" onchange="toggleGroup('kana', 'full')">
                <div class="toggle-content">
                    <strong>å…¨è§’ã¸</strong>
                    <small>ï½±ï½²ï½³â†’ã‚¢ã‚¤ã‚¦</small>
                </div>
            </label>
            <label class="toggle-btn">
                <input type="checkbox" id="mode_kana_half" onchange="toggleGroup('kana', 'half')">
                <div class="toggle-content">
                    <strong>åŠè§’ã¸</strong>
                    <small>ã‚¢ã‚¤ã‚¦â†’ï½±ï½²ï½³</small>
                </div>
            </label>
        </div>

        <div class="setting-group" style="border-left:1px dashed #ffd1dc; padding-left:15px; margin-left:5px;">
            <span class="category-label">æƒé™¤</span>
            <label class="toggle-btn">
                <input type="checkbox" id="checkRemoveSpace">
                <div class="toggle-content">
                    <strong>ç©ºç™½å‰Šé™¤</strong>
                    <small>ã‚¹ãƒšãƒ¼ã‚¹ã®ã¿</small>
                </div>
            </label>
            <label class="toggle-btn">
                <input type="checkbox" id="checkRemoveHyphen">
                <div class="toggle-content">
                    <strong>ãƒã‚¤ãƒ•ãƒ³</strong>
                    <small>090- â†’ 090</small>
                </div>
            </label>
        </div>
    </div>

    <div class="flex-box">
        <div class="box-half">
            <label>å¤‰æ›å‰ (Ctrl+V)</label>
            <textarea id="inputText" placeholder="ä¾‹ï¼š&#13;ï¼‘ï¼’ï¼“ï¼ï¼”ï¼•ï¼–ï¼—&#13;ï¼¡ï¼¢ï¼£ã€€ï¼¤ï¼¥ï¼¦&#13;ï¼ï¼™ï¼ï¼ï¼‘ï¼’ï¼“ï¼”ï¼ï¼•ï¼–ï¼—ï¼˜"></textarea>
        </div>

        <div class="arrow-area">â¡</div>

        <div class="box-half">
            <label>å¤‰æ›çµæœ</label>
            <textarea id="outputText" readonly placeholder="å¤‰æ›ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨&#13;ã“ã“ã«çµæœãŒå‡ºã¾ã™"></textarea>
        </div>
    </div>

    <div class="btn-area">
        <button class="btn-clear" onclick="clearText()">ãƒªã‚»ãƒƒãƒˆ</button>
        <button class="btn-convert" onclick="convertText()">âœ¨ å¤‰æ›</button>
        <button class="btn-copy" onclick="copyToClipboard()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
    </div>
</div>

<div id="toast">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼âœ¨</div>

<script>
    function toggleGroup(type, mode) {
        if (type === 'num') {
            if (mode === 'half' && document.getElementById('mode_num_half').checked) {
                document.getElementById('mode_num_full').checked = false;
            } else if (mode === 'full' && document.getElementById('mode_num_full').checked) {
                document.getElementById('mode_num_half').checked = false;
            }
        }
        if (type === 'kana') {
            if (mode === 'full' && document.getElementById('mode_kana_full').checked) {
                document.getElementById('mode_kana_half').checked = false;
            } else if (mode === 'half' && document.getElementById('mode_kana_half').checked) {
                document.getElementById('mode_kana_full').checked = false;
            }
        }
    }

    function convertText() {
        let text = document.getElementById('inputText').value;

        // 1. è‹±æ•°
        if (document.getElementById('mode_num_half').checked) {
            text = text.replace(/[ï¼-ï½]/g, s => String.fromCharCode(s.charCodeAt(0) - 0xFEE0));
            text = text.replace(/ã€€/g, ' ');
        }
        if (document.getElementById('mode_num_full').checked) {
            text = text.replace(/[!-~]/g, s => String.fromCharCode(s.charCodeAt(0) + 0xFEE0));
            text = text.replace(/ /g, 'ã€€');
        }

        // 2. ã‚«ãƒŠ
        if (document.getElementById('mode_kana_full').checked) {
            const kanaMap = {
                'ï½¶ï¾': 'ã‚¬', 'ï½·ï¾': 'ã‚®', 'ï½¸ï¾': 'ã‚°', 'ï½¹ï¾': 'ã‚²', 'ï½ºï¾': 'ã‚´', 'ï½»ï¾': 'ã‚¶', 'ï½¼ï¾': 'ã‚¸', 'ï½½ï¾': 'ã‚º', 'ï½¾ï¾': 'ã‚¼', 'ï½¿ï¾': 'ã‚¾',
                'ï¾€ï¾': 'ãƒ€', 'ï¾ï¾': 'ãƒ‚', 'ï¾‚ï¾': 'ãƒ…', 'ï¾ƒï¾': 'ãƒ‡', 'ï¾„ï¾': 'ãƒ‰', 'ï¾Šï¾': 'ãƒ', 'ï¾‹ï¾': 'ãƒ“', 'ï¾Œï¾': 'ãƒ–', 'ï¾ï¾': 'ãƒ™', 'ï¾ï¾': 'ãƒœ',
                'ï¾Šï¾Ÿ': 'ãƒ‘', 'ï¾‹ï¾Ÿ': 'ãƒ”', 'ï¾Œï¾Ÿ': 'ãƒ—', 'ï¾ï¾Ÿ': 'ãƒš', 'ï¾ï¾Ÿ': 'ãƒ', 'ï½³ï¾': 'ãƒ´', 'ï¾œï¾': 'ãƒ·', 'ï½¦ï¾': 'ãƒº',
                'ï½±': 'ã‚¢', 'ï½²': 'ã‚¤', 'ï½³': 'ã‚¦', 'ï½´': 'ã‚¨', 'ï½µ': 'ã‚ª', 'ï½¶': 'ã‚«', 'ï½·': 'ã‚­', 'ï½¸': 'ã‚¯', 'ï½¹': 'ã‚±', 'ï½º': 'ã‚³',
                'ï½»': 'ã‚µ', 'ï½¼': 'ã‚·', 'ï½½': 'ã‚¹', 'ï½¾': 'ã‚»', 'ï½¿': 'ã‚½', 'ï¾€': 'ã‚¿', 'ï¾': 'ãƒ', 'ï¾‚': 'ãƒ„', 'ï¾ƒ': 'ãƒ†', 'ï¾„': 'ãƒˆ',
                'ï¾…': 'ãƒŠ', 'ï¾†': 'ãƒ‹', 'ï¾‡': 'ãƒŒ', 'ï¾ˆ': 'ãƒ', 'ï¾‰': 'ãƒ', 'ï¾Š': 'ãƒ', 'ï¾‹': 'ãƒ’', 'ï¾Œ': 'ãƒ•', 'ï¾': 'ãƒ˜', 'ï¾': 'ãƒ›',
                'ï¾': 'ãƒ', 'ï¾': 'ãƒŸ', 'ï¾‘': 'ãƒ ', 'ï¾’': 'ãƒ¡', 'ï¾“': 'ãƒ¢', 'ï¾”': 'ãƒ¤', 'ï¾•': 'ãƒ¦', 'ï¾–': 'ãƒ¨', 'ï¾—': 'ãƒ©', 'ï¾˜': 'ãƒª',
                'ï¾™': 'ãƒ«', 'ï¾š': 'ãƒ¬', 'ï¾›': 'ãƒ­', 'ï¾œ': 'ãƒ¯', 'ï½¦': 'ãƒ²', 'ï¾': 'ãƒ³', 'ï½§': 'ã‚¡', 'ï½¨': 'ã‚£', 'ï½©': 'ã‚¥', 'ï½ª': 'ã‚§',
                'ï½«': 'ã‚©', 'ï½¯': 'ãƒƒ', 'ï½¬': 'ãƒ£', 'ï½­': 'ãƒ¥', 'ï½®': 'ãƒ§', 'ï½¡': 'ã€‚', 'ï½¢': 'ã€Œ', 'ï½£': 'ã€', 'ï½¤': 'ã€', 'ï½¥': 'ãƒ»', 'ï½°': 'ãƒ¼'
            };
            let reg = new RegExp('(' + Object.keys(kanaMap).join('|') + ')', 'g');
            text = text.replace(reg, match => kanaMap[match]);
            text = text.replace(/ï¾/g, 'ã‚›').replace(/ï¾Ÿ/g, 'ã‚œ');
        }
        if (document.getElementById('mode_kana_half').checked) {
            const fullToHalfMap = {
                'ã‚¬': 'ï½¶ï¾', 'ã‚®': 'ï½·ï¾', 'ã‚°': 'ï½¸ï¾', 'ã‚²': 'ï½¹ï¾', 'ã‚´': 'ï½ºï¾', 'ã‚¶': 'ï½»ï¾', 'ã‚¸': 'ï½¼ï¾', 'ã‚º': 'ï½½ï¾', 'ã‚¼': 'ï½¾ï¾', 'ã‚¾': 'ï½¿ï¾',
                'ãƒ€': 'ï¾€ï¾', 'ãƒ‚': 'ï¾ï¾', 'ãƒ…': 'ï¾‚ï¾', 'ãƒ‡': 'ï¾ƒï¾', 'ãƒ‰': 'ï¾„ï¾', 'ãƒ': 'ï¾Šï¾', 'ãƒ“': 'ï¾‹ï¾', 'ãƒ–': 'ï¾Œï¾', 'ãƒ™': 'ï¾ï¾', 'ãƒœ': 'ï¾ï¾',
                'ãƒ‘': 'ï¾Šï¾Ÿ', 'ãƒ”': 'ï¾‹ï¾Ÿ', 'ãƒ—': 'ï¾Œï¾Ÿ', 'ãƒš': 'ï¾ï¾Ÿ', 'ãƒ': 'ï¾ï¾Ÿ', 'ãƒ´': 'ï½³ï¾', 'ãƒ·': 'ï¾œï¾', 'ãƒº': 'ï½¦ï¾',
                'ã‚¢': 'ï½±', 'ã‚¤': 'ï½²', 'ã‚¦': 'ï½³', 'ã‚¨': 'ï½´', 'ã‚ª': 'ï½µ', 'ã‚«': 'ï½¶', 'ã‚­': 'ï½·', 'ã‚¯': 'ï½¸', 'ã‚±': 'ï½¹', 'ã‚³': 'ï½º',
                'ã‚µ': 'ï½»', 'ã‚·': 'ï½¼', 'ã‚¹': 'ï½½', 'ã‚»': 'ï½¾', 'ã‚½': 'ï½¿', 'ã‚¿': 'ï¾€', 'ãƒ': 'ï¾', 'ãƒ„': 'ï¾‚', 'ãƒ†': 'ï¾ƒ', 'ãƒˆ': 'ï¾„',
                'ãƒŠ': 'ï¾…', 'ãƒ‹': 'ï¾†', 'ãƒŒ': 'ï¾‡', 'ãƒ': 'ï¾ˆ', 'ãƒ': 'ï¾‰', 'ãƒ': 'ï¾Š', 'ãƒ’': 'ï¾‹', 'ãƒ•': 'ï¾Œ', 'ãƒ˜': 'ï¾', 'ãƒ›': 'ï¾',
                'ãƒ': 'ï¾', 'ãƒŸ': 'ï¾', 'ãƒ ': 'ï¾‘', 'ãƒ¡': 'ï¾’', 'ãƒ¢': 'ï¾“', 'ãƒ¤': 'ï¾”', 'ãƒ¦': 'ï¾•', 'ãƒ¨': 'ï¾–', 'ãƒ©': 'ï¾—', 'ãƒª': 'ï¾˜',
                'ãƒ«': 'ï¾™', 'ãƒ¬': 'ï¾š', 'ãƒ­': 'ï¾›', 'ãƒ¯': 'ï¾œ', 'ãƒ²': 'ï½¦', 'ãƒ³': 'ï¾', 'ã‚¡': 'ï½§', 'ã‚£': 'ï½¨', 'ã‚¥': 'ï½©', 'ã‚§': 'ï½ª',
                'ã‚©': 'ï½«', 'ãƒƒ': 'ï½¯', 'ãƒ£': 'ï½¬', 'ãƒ¥': 'ï½­', 'ãƒ§': 'ï½®', 'ã€‚': 'ï½¡', 'ã€Œ': 'ï½¢', 'ã€': 'ï½£', 'ã€': 'ï½¤', 'ãƒ»': 'ï½¥', 'ãƒ¼': 'ï½°',
                'ã‚›': 'ï¾', 'ã‚œ': 'ï¾Ÿ'
            };
            text = text.replace(/[ã‚¡-ãƒ³ãƒ´ãƒ¼ã‚›ã‚œã€Œã€ã€‚ã€ãƒ»]/g, s => fullToHalfMap[s] || s);
        }

        // 3. æƒé™¤
        if (document.getElementById('checkRemoveSpace').checked) {
            text = text.replace(/[ ã€€\t]+/g, '');
        }
        if (document.getElementById('checkRemoveHyphen').checked) {
            text = text.replace(/-/g, '').replace(/ãƒ¼/g, '').replace(/ï¼/g, '');
        }

        document.getElementById('outputText').value = text;
    }

    function copyToClipboard() {
        const copyText = document.getElementById("outputText");
        if(!copyText.value) return; 
        copyText.select();
        copyText.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(copyText.value).then(() => {
            showToast();
        });
    }
    
    function clearText() {
        document.getElementById('inputText').value = '';
        document.getElementById('outputText').value = '';
        document.getElementById('inputText').focus();
    }

    function showToast() {
        const x = document.getElementById("toast");
        x.className = "show";
        setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
    }
</script>

</body>
</html>